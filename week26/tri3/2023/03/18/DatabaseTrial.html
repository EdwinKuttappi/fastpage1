<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>My Own Database Trial | Edwin’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="My Own Database Trial" />
<meta name="author" content="Edwin Abraham" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is the lesson that talks about using programs with Data and SQL based around Big Idea 2.4, and I am making my own database using the code from 2.4" />
<meta property="og:description" content="This is the lesson that talks about using programs with Data and SQL based around Big Idea 2.4, and I am making my own database using the code from 2.4" />
<link rel="canonical" href="https://edwinkuttappi.github.io/fastpage1/week26/tri3/2023/03/18/DatabaseTrial.html" />
<meta property="og:url" content="https://edwinkuttappi.github.io/fastpage1/week26/tri3/2023/03/18/DatabaseTrial.html" />
<meta property="og:site_name" content="Edwin’s Blog" />
<meta property="og:image" content="https://edwinkuttappi.github.io/fastpage1/images/image.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-03-18T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://edwinkuttappi.github.io/fastpage1/images/image.jpg" />
<meta property="twitter:title" content="My Own Database Trial" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Edwin Abraham"},"dateModified":"2023-03-18T00:00:00-05:00","datePublished":"2023-03-18T00:00:00-05:00","description":"This is the lesson that talks about using programs with Data and SQL based around Big Idea 2.4, and I am making my own database using the code from 2.4","headline":"My Own Database Trial","image":"https://edwinkuttappi.github.io/fastpage1/images/image.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://edwinkuttappi.github.io/fastpage1/week26/tri3/2023/03/18/DatabaseTrial.html"},"url":"https://edwinkuttappi.github.io/fastpage1/week26/tri3/2023/03/18/DatabaseTrial.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/fastpage1/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://edwinkuttappi.github.io/fastpage1/feed.xml" title="Edwin's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/fastpage1/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/fastpage1/">Edwin&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/fastpage1/_pages/00_about.html">About Me Page</a><a class="page-link" href="/fastpage1/submenu/">Submenus</a><a class="page-link" href="/fastpage1/categories/">Tags</a><a class="page-link" href="/fastpage1/timebox/">Timebox</a><a class="page-link" href="/fastpage1/vocabulary">Vocabulary</a><a class="page-link" href="/fastpage1/search/">Search</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">My Own Database Trial</h1><p class="page-description">This is the lesson that talks about using programs with Data and SQL based around Big Idea 2.4, and I am making my own database using the code from 2.4</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-03-18T00:00:00-05:00" itemprop="datePublished">
        Mar 18, 2023
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Edwin Abraham</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      12 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
          <a class="category-tags-link" href="/fastpage1/categories/ap#week26">week26</a>
        
        &nbsp;
      
          <a class="category-tags-link" href="/fastpage1/categories/ap#tri3">tri3</a>
        
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/EdwinKuttappi/fastpage1/tree/master/_notebooks/2023-03-18-DatabaseTrial.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/fastpage1/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/EdwinKuttappi/fastpage1/master?filepath=_notebooks%2F2023-03-18-DatabaseTrial.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/fastpage1/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/EdwinKuttappi/fastpage1/blob/master/_notebooks/2023-03-18-DatabaseTrial.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/fastpage1/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2FEdwinKuttappi%2Ffastpage1%2Fblob%2Fmaster%2F_notebooks%2F2023-03-18-DatabaseTrial.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/fastpage1/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-03-18-DatabaseTrial.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">"""</span>
<span class="sd">These imports define the key objects</span>
<span class="sd">"""</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_sqlalchemy</span> <span class="kn">import</span> <span class="n">SQLAlchemy</span>

<span class="sd">"""</span>
<span class="sd">These object and definitions are used throughout the Jupyter Notebook.</span>
<span class="sd">"""</span>

<span class="c1"># Setup of key Flask object (app)</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1"># Setup SQLAlchemy object and properties for the database (db)</span>
<span class="n">database</span> <span class="o">=</span> <span class="s1">'sqlite:///sqlite.db'</span>  <span class="c1"># path and filename of databaseapp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">'SECRET_KEY'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">SQLAlchemy</span><span class="p">()</span>


<span class="c1"># This belongs in place where it runs once per project</span>
<span class="n">db</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">""" database dependencies to support sqlite examples """</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.exc</span> <span class="kn">import</span> <span class="n">IntegrityError</span>
<span class="kn">from</span> <span class="nn">werkzeug.security</span> <span class="kn">import</span> <span class="n">generate_password_hash</span><span class="p">,</span> <span class="n">check_password_hash</span>


<span class="sd">''' Tutorial: https://www.sqlalchemy.org/library.html#tutorials, try to get into a Python shell and follow along '''</span>
<span class="k">class</span> <span class="nc">Phone</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">'users'</span>  <span class="c1"># table name is plural, class name is singular</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_company</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1">#_name</span>
    <span class="n">_model</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1">#_uid</span>
    <span class="n">_price</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># _password</span>
    <span class="n">_dob</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Date</span><span class="p">)</span> <span class="c1">#_dob</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">company</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">dob</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_company</span> <span class="o">=</span> <span class="n">company</span>    <span class="c1"># variables with self prefix become part of the object, </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_price</span> <span class="o">=</span> <span class="n">price</span>
        <span class="c1"># self.set_password(password)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dob</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># not a date type     </span>
            <span class="n">dob</span> <span class="o">=</span> <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dob</span> <span class="o">=</span> <span class="n">dob</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">company</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_company</span>
    
    <span class="nd">@company</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">company</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">company</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_company</span> <span class="o">=</span> <span class="n">company</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span>
    
    <span class="nd">@model</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="n">model</span>
        
    <span class="k">def</span> <span class="nf">is_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">==</span> <span class="n">model</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_price</span>
    
    <span class="nd">@price</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_price</span> <span class="o">=</span> <span class="n">price</span>
    
    <span class="c1"># @property</span>
    <span class="c1"># def password(self):</span>
    <span class="c1">#     return self._password[0:10] + "..." # because of security only show 1st characters</span>

    <span class="c1"># # update password, this is conventional setter</span>
    <span class="c1"># def set_password(self, password):</span>
    <span class="c1">#     """Create a hashed password."""</span>
    <span class="c1">#     self._password = generate_password_hash(password, method='sha256')</span>

    <span class="c1"># # check password parameter versus stored/encrypted password</span>
    <span class="c1"># def is_password(self, password):</span>
    <span class="c1">#     """Check against hashed password."""</span>
    <span class="c1">#     result = check_password_hash(self._password, password)</span>
    <span class="c1">#     return result</span>
    
    <span class="c1"># dob property is returned as string, to avoid unfriendly outcomes</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dob_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dob</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%m-</span><span class="si">%d</span><span class="s1">-%Y'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dob_string</span>
    
    <span class="nd">@dob</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">dob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dob</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dob</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># not a date type     </span>
            <span class="n">dob</span> <span class="o">=</span> <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dob</span> <span class="o">=</span> <span class="n">dob</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">age</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dob</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="p">((</span><span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">day</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dob</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dob</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># add prepares to persist person object to Users table</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>  <span class="c1"># SqlAlchemy "unit of work pattern" requires a manual commit</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">except</span> <span class="n">IntegrityError</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">"company"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">company</span><span class="p">,</span>
            <span class="s2">"model"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">price</span><span class="p">,</span>
            <span class="s2">"dob"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dob</span><span class="p">,</span>
            <span class="s2">"age"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">company</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s2">""</span><span class="p">):</span>
        <span class="sd">"""only updates values with length"""</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">company</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">company</span> <span class="o">=</span> <span class="n">company</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">price</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
        <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">"""Database Creation and Testing """</span>


<span class="c1"># Builds working data for testing</span>
<span class="k">def</span> <span class="nf">initPhones</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="sd">"""Create database and tables"""</span>
        <span class="n">db</span><span class="o">.</span><span class="n">create_all</span><span class="p">()</span>
        <span class="sd">"""Tester data for table"""</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'Apple'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'iPhone 14'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'200'</span><span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'Apple'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'iPhone 14 Pro'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'150'</span><span class="p">)</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'Samsung'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'Galaxy S23'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'100'</span><span class="p">)</span>
        <span class="n">p4</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'LG'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'Wing'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'300'</span><span class="p">)</span>
        <span class="n">p5</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'Motorola'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'Razr'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'250'</span><span class="p">)</span>
        <span class="n">p6</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="s1">'Google'</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'Pixel 7'</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="s1">'50'</span><span class="p">)</span>

        <span class="n">phones</span> <span class="o">=</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">,</span> <span class="n">p5</span><span class="p">,</span> <span class="n">p6</span><span class="p">]</span>

        <span class="sd">"""Builds sample user/note(s) data"""</span>
        <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">phones</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="sd">'''add user to table'''</span>
                <span class="nb">object</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Created new uid </span><span class="si">{</span><span class="nb">object</span><span class="o">.</span><span class="n">model</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>  <span class="c1"># error raised if object nit created</span>
                <span class="sd">'''fails with bad or duplicate data'''</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Records exist uid </span><span class="si">{</span><span class="n">phone</span><span class="o">.</span><span class="n">model</span><span class="si">}</span><span class="s2">, or error."</span><span class="p">)</span>
                
<span class="n">initPhones</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Records exist uid iPhone 14, or error.
Records exist uid iPhone 14 Pro, or error.
Records exist uid Galaxy S23, or error.
Records exist uid Wing, or error.
Records exist uid Razr, or error.
Records exist uid Pixel 7, or error.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">find_by_company</span><span class="p">(</span><span class="n">company</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="n">Phone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="n">company</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">phone</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">find_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="n">Phone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">_model</span><span class="o">=</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">phone</span> <span class="c1"># returns user object</span>

<span class="c1"># # Check credentials by finding user and verify password</span>
<span class="c1"># def check_credentials(model, price):</span>
<span class="c1">#     # query email and return user record</span>
<span class="c1">#     phone = find_by_model(model)</span>
<span class="c1">#     if phone == None:</span>
<span class="c1">#         return False</span>
<span class="c1">#     if (phone.is_password(price)):</span>
<span class="c1">#         return True</span>
<span class="c1">#     return False</span>
        
<span class="c1"># check_credentials("indi", "123qwerty")</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">create</span><span class="p">():</span>
    <span class="c1"># optimize user time to see if uid exists</span>
    <span class="n">model</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter your user model"</span><span class="p">)</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">find_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Found</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="n">phone</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">return</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span> <span class="c1"># keep going</span>
    
    <span class="c1"># request value that ensure creating valid object</span>
    <span class="n">company</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter the company:"</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Enter your price"</span><span class="p">)</span>
    
    <span class="c1"># Initialize User object before date</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="n">company</span><span class="p">,</span> 
                <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> 
                <span class="n">price</span><span class="o">=</span><span class="n">price</span><span class="p">,</span>
                <span class="p">)</span>
    
    <span class="c1"># create user.dob, fail with today as dob</span>
    <span class="c1"># dob = input("Enter your date of birth 'YYYY-MM-DD'")</span>
    <span class="c1"># try:</span>
    <span class="c1">#     user.dob = datetime.strptime(dob, '%Y-%m-%d').date()</span>
    <span class="c1"># except ValueError:</span>
    <span class="c1">#     user.dob = datetime.today()</span>
    <span class="c1">#     print(f"Invalid date {dob} require YYYY-mm-dd, date defaulted to {user.dbo}")</span>
           
    <span class="c1"># write object to database</span>
    <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">object</span> <span class="o">=</span> <span class="n">phone</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Created</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">except</span><span class="p">:</span>  <span class="c1"># error raised if object not created</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Unknown error model </span><span class="si">{model}</span><span class="s2">"</span><span class="p">)</span>
        
<span class="n">create</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">OperationalError</span>                          Traceback (most recent call last)
File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1964</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1963</span>     if not evt_handled:
<span class="ansi-green-fg">-&gt; 1964</span>         self.dialect.do_execute(
<span class="ansi-green-intense-fg ansi-bold">   1965</span>             cursor, str_statement, effective_parameters, context
<span class="ansi-green-intense-fg ansi-bold">   1966</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1968</span> if self._has_events or self.engine._has_events:

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/default.py:748</span>, in <span class="ansi-cyan-fg">DefaultDialect.do_execute</span><span class="ansi-blue-fg">(self, cursor, statement, parameters, context)</span>
<span class="ansi-green-intense-fg ansi-bold">    747</span> def do_execute(self, cursor, statement, parameters, context=None):
<span class="ansi-green-fg">--&gt; 748</span>     cursor.execute(statement, parameters)

<span class="ansi-red-fg">OperationalError</span>: no such column: users._company

The above exception was the direct cause of the following exception:

<span class="ansi-red-fg">OperationalError</span>                          Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb Cell 6</span> in <span class="ansi-cyan-fg">&lt;cell line: 38&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">     &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=34'&gt;35&lt;/a&gt;</span>         except:  # error raised if object not created
<span class="ansi-green-intense-fg ansi-bold">     &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=35'&gt;36&lt;/a&gt;</span>             print("Unknown error model {model}")
<span class="ansi-green-fg">---&gt; &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=37'&gt;38&lt;/a&gt;</span> create()

<span class="ansi-green-intense-fg ansi-bold">/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb Cell 6</span> in <span class="ansi-cyan-fg">create</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=1'&gt;2&lt;/a&gt;</span> def create():
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=2'&gt;3&lt;/a&gt;</span>     # optimize user time to see if uid exists
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=3'&gt;4&lt;/a&gt;</span>     model = input("Enter your user model")
<span class="ansi-green-fg">----&gt; &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4'&gt;5&lt;/a&gt;</span>     phone = find_by_model(model)
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=5'&gt;6&lt;/a&gt;</span>     try:
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=6'&gt;7&lt;/a&gt;</span>         print("Found\n", phone.read())

<span class="ansi-green-intense-fg ansi-bold">/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb Cell 6</span> in <span class="ansi-cyan-fg">find_by_model</span><span class="ansi-blue-fg">(model)</span>
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=1'&gt;2&lt;/a&gt;</span> def find_by_model(model):
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=2'&gt;3&lt;/a&gt;</span>     with app.app_context():
<span class="ansi-green-fg">----&gt; &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=3'&gt;4&lt;/a&gt;</span>         phone = Phone.query.filter_by(_model=model).first()
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X13sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4'&gt;5&lt;/a&gt;</span>     return phone

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/query.py:2752</span>, in <span class="ansi-cyan-fg">Query.first</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">   2750</span>     return self._iter().first()  # type: ignore
<span class="ansi-green-intense-fg ansi-bold">   2751</span> else:
<span class="ansi-green-fg">-&gt; 2752</span>     return self.limit(1)._iter().first()

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/query.py:2855</span>, in <span class="ansi-cyan-fg">Query._iter</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">   2852</span> params = self._params
<span class="ansi-green-intense-fg ansi-bold">   2854</span> statement = self._statement_20()
<span class="ansi-green-fg">-&gt; 2855</span> result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
<span class="ansi-green-intense-fg ansi-bold">   2856</span>     statement,
<span class="ansi-green-intense-fg ansi-bold">   2857</span>     params,
<span class="ansi-green-intense-fg ansi-bold">   2858</span>     execution_options={"_sa_orm_load_options": self.load_options},
<span class="ansi-green-intense-fg ansi-bold">   2859</span> )
<span class="ansi-green-intense-fg ansi-bold">   2861</span> # legacy: automatically set scalars, unique
<span class="ansi-green-intense-fg ansi-bold">   2862</span> if result._attributes.get("is_single_entity", False):

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/session.py:2229</span>, in <span class="ansi-cyan-fg">Session.execute</span><span class="ansi-blue-fg">(self, statement, params, execution_options, bind_arguments, _parent_execute_state, _add_event)</span>
<span class="ansi-green-intense-fg ansi-bold">   2168</span> def execute(
<span class="ansi-green-intense-fg ansi-bold">   2169</span>     self,
<span class="ansi-green-intense-fg ansi-bold">   2170</span>     statement: Executable,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   2176</span>     _add_event: Optional[Any] = None,
<span class="ansi-green-intense-fg ansi-bold">   2177</span> ) -&gt; Result[Any]:
<span class="ansi-green-intense-fg ansi-bold">   2178</span>     r"""Execute a SQL expression construct.
<span class="ansi-green-intense-fg ansi-bold">   2179</span> 
<span class="ansi-green-intense-fg ansi-bold">   2180</span>     Returns a :class:`_engine.Result` object representing
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   2227</span> 
<span class="ansi-green-intense-fg ansi-bold">   2228</span>     """
<span class="ansi-green-fg">-&gt; 2229</span>     return self._execute_internal(
<span class="ansi-green-intense-fg ansi-bold">   2230</span>         statement,
<span class="ansi-green-intense-fg ansi-bold">   2231</span>         params,
<span class="ansi-green-intense-fg ansi-bold">   2232</span>         execution_options=execution_options,
<span class="ansi-green-intense-fg ansi-bold">   2233</span>         bind_arguments=bind_arguments,
<span class="ansi-green-intense-fg ansi-bold">   2234</span>         _parent_execute_state=_parent_execute_state,
<span class="ansi-green-intense-fg ansi-bold">   2235</span>         _add_event=_add_event,
<span class="ansi-green-intense-fg ansi-bold">   2236</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/session.py:2124</span>, in <span class="ansi-cyan-fg">Session._execute_internal</span><span class="ansi-blue-fg">(self, statement, params, execution_options, bind_arguments, _parent_execute_state, _add_event, _scalar_result)</span>
<span class="ansi-green-intense-fg ansi-bold">   2119</span>     return conn.scalar(
<span class="ansi-green-intense-fg ansi-bold">   2120</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">   2121</span>     )
<span class="ansi-green-intense-fg ansi-bold">   2123</span> if compile_state_cls:
<span class="ansi-green-fg">-&gt; 2124</span>     result: Result[Any] = compile_state_cls.orm_execute_statement(
<span class="ansi-green-intense-fg ansi-bold">   2125</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   2126</span>         statement,
<span class="ansi-green-intense-fg ansi-bold">   2127</span>         params or {},
<span class="ansi-green-intense-fg ansi-bold">   2128</span>         execution_options,
<span class="ansi-green-intense-fg ansi-bold">   2129</span>         bind_arguments,
<span class="ansi-green-intense-fg ansi-bold">   2130</span>         conn,
<span class="ansi-green-intense-fg ansi-bold">   2131</span>     )
<span class="ansi-green-intense-fg ansi-bold">   2132</span> else:
<span class="ansi-green-intense-fg ansi-bold">   2133</span>     result = conn.execute(
<span class="ansi-green-intense-fg ansi-bold">   2134</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">   2135</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/context.py:253</span>, in <span class="ansi-cyan-fg">AbstractORMCompileState.orm_execute_statement</span><span class="ansi-blue-fg">(cls, session, statement, params, execution_options, bind_arguments, conn)</span>
<span class="ansi-green-intense-fg ansi-bold">    243</span> @classmethod
<span class="ansi-green-intense-fg ansi-bold">    244</span> def orm_execute_statement(
<span class="ansi-green-intense-fg ansi-bold">    245</span>     cls,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    251</span>     conn,
<span class="ansi-green-intense-fg ansi-bold">    252</span> ) -&gt; Result:
<span class="ansi-green-fg">--&gt; 253</span>     result = conn.execute(
<span class="ansi-green-intense-fg ansi-bold">    254</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">    255</span>     )
<span class="ansi-green-intense-fg ansi-bold">    256</span>     return cls.orm_setup_cursor_result(
<span class="ansi-green-intense-fg ansi-bold">    257</span>         session,
<span class="ansi-green-intense-fg ansi-bold">    258</span>         statement,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    262</span>         result,
<span class="ansi-green-intense-fg ansi-bold">    263</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1414</span>, in <span class="ansi-cyan-fg">Connection.execute</span><span class="ansi-blue-fg">(self, statement, parameters, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">   1412</span>     raise exc.ObjectNotExecutableError(statement) from err
<span class="ansi-green-intense-fg ansi-bold">   1413</span> else:
<span class="ansi-green-fg">-&gt; 1414</span>     return meth(
<span class="ansi-green-intense-fg ansi-bold">   1415</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1416</span>         distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1417</span>         execution_options or NO_OPTIONS,
<span class="ansi-green-intense-fg ansi-bold">   1418</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/sql/elements.py:486</span>, in <span class="ansi-cyan-fg">ClauseElement._execute_on_connection</span><span class="ansi-blue-fg">(self, connection, distilled_params, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">    484</span>     if TYPE_CHECKING:
<span class="ansi-green-intense-fg ansi-bold">    485</span>         assert isinstance(self, Executable)
<span class="ansi-green-fg">--&gt; 486</span>     return connection._execute_clauseelement(
<span class="ansi-green-intense-fg ansi-bold">    487</span>         self, distilled_params, execution_options
<span class="ansi-green-intense-fg ansi-bold">    488</span>     )
<span class="ansi-green-intense-fg ansi-bold">    489</span> else:
<span class="ansi-green-intense-fg ansi-bold">    490</span>     raise exc.ObjectNotExecutableError(self)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1638</span>, in <span class="ansi-cyan-fg">Connection._execute_clauseelement</span><span class="ansi-blue-fg">(self, elem, distilled_parameters, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">   1626</span> compiled_cache: Optional[CompiledCacheType] = execution_options.get(
<span class="ansi-green-intense-fg ansi-bold">   1627</span>     "compiled_cache", self.engine._compiled_cache
<span class="ansi-green-intense-fg ansi-bold">   1628</span> )
<span class="ansi-green-intense-fg ansi-bold">   1630</span> compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
<span class="ansi-green-intense-fg ansi-bold">   1631</span>     dialect=dialect,
<span class="ansi-green-intense-fg ansi-bold">   1632</span>     compiled_cache=compiled_cache,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1636</span>     linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
<span class="ansi-green-intense-fg ansi-bold">   1637</span> )
<span class="ansi-green-fg">-&gt; 1638</span> ret = self._execute_context(
<span class="ansi-green-intense-fg ansi-bold">   1639</span>     dialect,
<span class="ansi-green-intense-fg ansi-bold">   1640</span>     dialect.execution_ctx_cls._init_compiled,
<span class="ansi-green-intense-fg ansi-bold">   1641</span>     compiled_sql,
<span class="ansi-green-intense-fg ansi-bold">   1642</span>     distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1643</span>     execution_options,
<span class="ansi-green-intense-fg ansi-bold">   1644</span>     compiled_sql,
<span class="ansi-green-intense-fg ansi-bold">   1645</span>     distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1646</span>     elem,
<span class="ansi-green-intense-fg ansi-bold">   1647</span>     extracted_params,
<span class="ansi-green-intense-fg ansi-bold">   1648</span>     cache_hit=cache_hit,
<span class="ansi-green-intense-fg ansi-bold">   1649</span> )
<span class="ansi-green-intense-fg ansi-bold">   1650</span> if has_events:
<span class="ansi-green-intense-fg ansi-bold">   1651</span>     self.dispatch.after_execute(
<span class="ansi-green-intense-fg ansi-bold">   1652</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1653</span>         elem,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1657</span>         ret,
<span class="ansi-green-intense-fg ansi-bold">   1658</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1842</span>, in <span class="ansi-cyan-fg">Connection._execute_context</span><span class="ansi-blue-fg">(self, dialect, constructor, statement, parameters, execution_options, *args, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">   1837</span>     return self._exec_insertmany_context(
<span class="ansi-green-intense-fg ansi-bold">   1838</span>         dialect,
<span class="ansi-green-intense-fg ansi-bold">   1839</span>         context,
<span class="ansi-green-intense-fg ansi-bold">   1840</span>     )
<span class="ansi-green-intense-fg ansi-bold">   1841</span> else:
<span class="ansi-green-fg">-&gt; 1842</span>     return self._exec_single_context(
<span class="ansi-green-intense-fg ansi-bold">   1843</span>         dialect, context, statement, parameters
<span class="ansi-green-intense-fg ansi-bold">   1844</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1983</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1980</span>     result = context._setup_result_proxy()
<span class="ansi-green-intense-fg ansi-bold">   1982</span> except BaseException as e:
<span class="ansi-green-fg">-&gt; 1983</span>     self._handle_dbapi_exception(
<span class="ansi-green-intense-fg ansi-bold">   1984</span>         e, str_statement, effective_parameters, cursor, context
<span class="ansi-green-intense-fg ansi-bold">   1985</span>     )
<span class="ansi-green-intense-fg ansi-bold">   1987</span> return result

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:2326</span>, in <span class="ansi-cyan-fg">Connection._handle_dbapi_exception</span><span class="ansi-blue-fg">(self, e, statement, parameters, cursor, context, is_sub_exec)</span>
<span class="ansi-green-intense-fg ansi-bold">   2324</span> elif should_wrap:
<span class="ansi-green-intense-fg ansi-bold">   2325</span>     assert sqlalchemy_exception is not None
<span class="ansi-green-fg">-&gt; 2326</span>     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
<span class="ansi-green-intense-fg ansi-bold">   2327</span> else:
<span class="ansi-green-intense-fg ansi-bold">   2328</span>     assert exc_info[1] is not None

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1964</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1962</span>                 break
<span class="ansi-green-intense-fg ansi-bold">   1963</span>     if not evt_handled:
<span class="ansi-green-fg">-&gt; 1964</span>         self.dialect.do_execute(
<span class="ansi-green-intense-fg ansi-bold">   1965</span>             cursor, str_statement, effective_parameters, context
<span class="ansi-green-intense-fg ansi-bold">   1966</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1968</span> if self._has_events or self.engine._has_events:
<span class="ansi-green-intense-fg ansi-bold">   1969</span>     self.dispatch.after_cursor_execute(
<span class="ansi-green-intense-fg ansi-bold">   1970</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1971</span>         cursor,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1975</span>         context.executemany,
<span class="ansi-green-intense-fg ansi-bold">   1976</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/default.py:748</span>, in <span class="ansi-cyan-fg">DefaultDialect.do_execute</span><span class="ansi-blue-fg">(self, cursor, statement, parameters, context)</span>
<span class="ansi-green-intense-fg ansi-bold">    747</span> def do_execute(self, cursor, statement, parameters, context=None):
<span class="ansi-green-fg">--&gt; 748</span>     cursor.execute(statement, parameters)

<span class="ansi-red-fg">OperationalError</span>: (sqlite3.OperationalError) no such column: users._company
[SQL: SELECT users.id AS users_id, users._company AS users__company, users._model AS users__model, users._price AS users__price, users._dob AS users__dob 
FROM users 
WHERE users._model = ?
 LIMIT ? OFFSET ?]
[parameters: ('Apple', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># SQLAlchemy extracts all users from database, turns each user into JSON</span>
<span class="k">def</span> <span class="nf">read</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">Phone</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">json_ready</span> <span class="o">=</span> <span class="p">[</span><span class="n">phone</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="k">for</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span> <span class="c1"># each user adds user.read() to list</span>
    <span class="k">return</span> <span class="n">json_ready</span>

<span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">OperationalError</span>                          Traceback (most recent call last)
File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1964</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1963</span>     if not evt_handled:
<span class="ansi-green-fg">-&gt; 1964</span>         self.dialect.do_execute(
<span class="ansi-green-intense-fg ansi-bold">   1965</span>             cursor, str_statement, effective_parameters, context
<span class="ansi-green-intense-fg ansi-bold">   1966</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1968</span> if self._has_events or self.engine._has_events:

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/default.py:748</span>, in <span class="ansi-cyan-fg">DefaultDialect.do_execute</span><span class="ansi-blue-fg">(self, cursor, statement, parameters, context)</span>
<span class="ansi-green-intense-fg ansi-bold">    747</span> def do_execute(self, cursor, statement, parameters, context=None):
<span class="ansi-green-fg">--&gt; 748</span>     cursor.execute(statement, parameters)

<span class="ansi-red-fg">OperationalError</span>: no such column: users._company

The above exception was the direct cause of the following exception:

<span class="ansi-red-fg">OperationalError</span>                          Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb Cell 7</span> in <span class="ansi-cyan-fg">&lt;cell line: 8&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4'&gt;5&lt;/a&gt;</span>     json_ready = [phone.read() for phone in table] # each user adds user.read() to list
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=5'&gt;6&lt;/a&gt;</span>     return json_ready
<span class="ansi-green-fg">----&gt; &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=7'&gt;8&lt;/a&gt;</span> read()

<span class="ansi-green-intense-fg ansi-bold">/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb Cell 7</span> in <span class="ansi-cyan-fg">read</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=1'&gt;2&lt;/a&gt;</span> def read():
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=2'&gt;3&lt;/a&gt;</span>     with app.app_context():
<span class="ansi-green-fg">----&gt; &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=3'&gt;4&lt;/a&gt;</span>         table = Phone.query.all()
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4'&gt;5&lt;/a&gt;</span>     json_ready = [phone.read() for phone in table] # each user adds user.read() to list
<span class="ansi-green-intense-fg ansi-bold">      &lt;a href='vscode-notebook-cell://wsl%2Bubuntu/home/edwin/vscode/fastpage1/_notebooks/2023-03-18-DatabaseTrial.ipynb#X14sdnNjb2RlLXJlbW90ZQ%3D%3D?line=5'&gt;6&lt;/a&gt;</span>     return json_ready

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/query.py:2697</span>, in <span class="ansi-cyan-fg">Query.all</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">   2675</span> def all(self) -&gt; List[_T]:
<span class="ansi-green-intense-fg ansi-bold">   2676</span>     """Return the results represented by this :class:`_query.Query`
<span class="ansi-green-intense-fg ansi-bold">   2677</span>     as a list.
<span class="ansi-green-intense-fg ansi-bold">   2678</span> 
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   2695</span>         :meth:`_engine.Result.scalars` - v2 comparable method.
<span class="ansi-green-intense-fg ansi-bold">   2696</span>     """
<span class="ansi-green-fg">-&gt; 2697</span>     return self._iter().all()

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/query.py:2855</span>, in <span class="ansi-cyan-fg">Query._iter</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">   2852</span> params = self._params
<span class="ansi-green-intense-fg ansi-bold">   2854</span> statement = self._statement_20()
<span class="ansi-green-fg">-&gt; 2855</span> result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
<span class="ansi-green-intense-fg ansi-bold">   2856</span>     statement,
<span class="ansi-green-intense-fg ansi-bold">   2857</span>     params,
<span class="ansi-green-intense-fg ansi-bold">   2858</span>     execution_options={"_sa_orm_load_options": self.load_options},
<span class="ansi-green-intense-fg ansi-bold">   2859</span> )
<span class="ansi-green-intense-fg ansi-bold">   2861</span> # legacy: automatically set scalars, unique
<span class="ansi-green-intense-fg ansi-bold">   2862</span> if result._attributes.get("is_single_entity", False):

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/session.py:2229</span>, in <span class="ansi-cyan-fg">Session.execute</span><span class="ansi-blue-fg">(self, statement, params, execution_options, bind_arguments, _parent_execute_state, _add_event)</span>
<span class="ansi-green-intense-fg ansi-bold">   2168</span> def execute(
<span class="ansi-green-intense-fg ansi-bold">   2169</span>     self,
<span class="ansi-green-intense-fg ansi-bold">   2170</span>     statement: Executable,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   2176</span>     _add_event: Optional[Any] = None,
<span class="ansi-green-intense-fg ansi-bold">   2177</span> ) -&gt; Result[Any]:
<span class="ansi-green-intense-fg ansi-bold">   2178</span>     r"""Execute a SQL expression construct.
<span class="ansi-green-intense-fg ansi-bold">   2179</span> 
<span class="ansi-green-intense-fg ansi-bold">   2180</span>     Returns a :class:`_engine.Result` object representing
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   2227</span> 
<span class="ansi-green-intense-fg ansi-bold">   2228</span>     """
<span class="ansi-green-fg">-&gt; 2229</span>     return self._execute_internal(
<span class="ansi-green-intense-fg ansi-bold">   2230</span>         statement,
<span class="ansi-green-intense-fg ansi-bold">   2231</span>         params,
<span class="ansi-green-intense-fg ansi-bold">   2232</span>         execution_options=execution_options,
<span class="ansi-green-intense-fg ansi-bold">   2233</span>         bind_arguments=bind_arguments,
<span class="ansi-green-intense-fg ansi-bold">   2234</span>         _parent_execute_state=_parent_execute_state,
<span class="ansi-green-intense-fg ansi-bold">   2235</span>         _add_event=_add_event,
<span class="ansi-green-intense-fg ansi-bold">   2236</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/session.py:2124</span>, in <span class="ansi-cyan-fg">Session._execute_internal</span><span class="ansi-blue-fg">(self, statement, params, execution_options, bind_arguments, _parent_execute_state, _add_event, _scalar_result)</span>
<span class="ansi-green-intense-fg ansi-bold">   2119</span>     return conn.scalar(
<span class="ansi-green-intense-fg ansi-bold">   2120</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">   2121</span>     )
<span class="ansi-green-intense-fg ansi-bold">   2123</span> if compile_state_cls:
<span class="ansi-green-fg">-&gt; 2124</span>     result: Result[Any] = compile_state_cls.orm_execute_statement(
<span class="ansi-green-intense-fg ansi-bold">   2125</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   2126</span>         statement,
<span class="ansi-green-intense-fg ansi-bold">   2127</span>         params or {},
<span class="ansi-green-intense-fg ansi-bold">   2128</span>         execution_options,
<span class="ansi-green-intense-fg ansi-bold">   2129</span>         bind_arguments,
<span class="ansi-green-intense-fg ansi-bold">   2130</span>         conn,
<span class="ansi-green-intense-fg ansi-bold">   2131</span>     )
<span class="ansi-green-intense-fg ansi-bold">   2132</span> else:
<span class="ansi-green-intense-fg ansi-bold">   2133</span>     result = conn.execute(
<span class="ansi-green-intense-fg ansi-bold">   2134</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">   2135</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/orm/context.py:253</span>, in <span class="ansi-cyan-fg">AbstractORMCompileState.orm_execute_statement</span><span class="ansi-blue-fg">(cls, session, statement, params, execution_options, bind_arguments, conn)</span>
<span class="ansi-green-intense-fg ansi-bold">    243</span> @classmethod
<span class="ansi-green-intense-fg ansi-bold">    244</span> def orm_execute_statement(
<span class="ansi-green-intense-fg ansi-bold">    245</span>     cls,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    251</span>     conn,
<span class="ansi-green-intense-fg ansi-bold">    252</span> ) -&gt; Result:
<span class="ansi-green-fg">--&gt; 253</span>     result = conn.execute(
<span class="ansi-green-intense-fg ansi-bold">    254</span>         statement, params or {}, execution_options=execution_options
<span class="ansi-green-intense-fg ansi-bold">    255</span>     )
<span class="ansi-green-intense-fg ansi-bold">    256</span>     return cls.orm_setup_cursor_result(
<span class="ansi-green-intense-fg ansi-bold">    257</span>         session,
<span class="ansi-green-intense-fg ansi-bold">    258</span>         statement,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    262</span>         result,
<span class="ansi-green-intense-fg ansi-bold">    263</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1414</span>, in <span class="ansi-cyan-fg">Connection.execute</span><span class="ansi-blue-fg">(self, statement, parameters, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">   1412</span>     raise exc.ObjectNotExecutableError(statement) from err
<span class="ansi-green-intense-fg ansi-bold">   1413</span> else:
<span class="ansi-green-fg">-&gt; 1414</span>     return meth(
<span class="ansi-green-intense-fg ansi-bold">   1415</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1416</span>         distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1417</span>         execution_options or NO_OPTIONS,
<span class="ansi-green-intense-fg ansi-bold">   1418</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/sql/elements.py:486</span>, in <span class="ansi-cyan-fg">ClauseElement._execute_on_connection</span><span class="ansi-blue-fg">(self, connection, distilled_params, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">    484</span>     if TYPE_CHECKING:
<span class="ansi-green-intense-fg ansi-bold">    485</span>         assert isinstance(self, Executable)
<span class="ansi-green-fg">--&gt; 486</span>     return connection._execute_clauseelement(
<span class="ansi-green-intense-fg ansi-bold">    487</span>         self, distilled_params, execution_options
<span class="ansi-green-intense-fg ansi-bold">    488</span>     )
<span class="ansi-green-intense-fg ansi-bold">    489</span> else:
<span class="ansi-green-intense-fg ansi-bold">    490</span>     raise exc.ObjectNotExecutableError(self)

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1638</span>, in <span class="ansi-cyan-fg">Connection._execute_clauseelement</span><span class="ansi-blue-fg">(self, elem, distilled_parameters, execution_options)</span>
<span class="ansi-green-intense-fg ansi-bold">   1626</span> compiled_cache: Optional[CompiledCacheType] = execution_options.get(
<span class="ansi-green-intense-fg ansi-bold">   1627</span>     "compiled_cache", self.engine._compiled_cache
<span class="ansi-green-intense-fg ansi-bold">   1628</span> )
<span class="ansi-green-intense-fg ansi-bold">   1630</span> compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
<span class="ansi-green-intense-fg ansi-bold">   1631</span>     dialect=dialect,
<span class="ansi-green-intense-fg ansi-bold">   1632</span>     compiled_cache=compiled_cache,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1636</span>     linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
<span class="ansi-green-intense-fg ansi-bold">   1637</span> )
<span class="ansi-green-fg">-&gt; 1638</span> ret = self._execute_context(
<span class="ansi-green-intense-fg ansi-bold">   1639</span>     dialect,
<span class="ansi-green-intense-fg ansi-bold">   1640</span>     dialect.execution_ctx_cls._init_compiled,
<span class="ansi-green-intense-fg ansi-bold">   1641</span>     compiled_sql,
<span class="ansi-green-intense-fg ansi-bold">   1642</span>     distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1643</span>     execution_options,
<span class="ansi-green-intense-fg ansi-bold">   1644</span>     compiled_sql,
<span class="ansi-green-intense-fg ansi-bold">   1645</span>     distilled_parameters,
<span class="ansi-green-intense-fg ansi-bold">   1646</span>     elem,
<span class="ansi-green-intense-fg ansi-bold">   1647</span>     extracted_params,
<span class="ansi-green-intense-fg ansi-bold">   1648</span>     cache_hit=cache_hit,
<span class="ansi-green-intense-fg ansi-bold">   1649</span> )
<span class="ansi-green-intense-fg ansi-bold">   1650</span> if has_events:
<span class="ansi-green-intense-fg ansi-bold">   1651</span>     self.dispatch.after_execute(
<span class="ansi-green-intense-fg ansi-bold">   1652</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1653</span>         elem,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1657</span>         ret,
<span class="ansi-green-intense-fg ansi-bold">   1658</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1842</span>, in <span class="ansi-cyan-fg">Connection._execute_context</span><span class="ansi-blue-fg">(self, dialect, constructor, statement, parameters, execution_options, *args, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">   1837</span>     return self._exec_insertmany_context(
<span class="ansi-green-intense-fg ansi-bold">   1838</span>         dialect,
<span class="ansi-green-intense-fg ansi-bold">   1839</span>         context,
<span class="ansi-green-intense-fg ansi-bold">   1840</span>     )
<span class="ansi-green-intense-fg ansi-bold">   1841</span> else:
<span class="ansi-green-fg">-&gt; 1842</span>     return self._exec_single_context(
<span class="ansi-green-intense-fg ansi-bold">   1843</span>         dialect, context, statement, parameters
<span class="ansi-green-intense-fg ansi-bold">   1844</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1983</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1980</span>     result = context._setup_result_proxy()
<span class="ansi-green-intense-fg ansi-bold">   1982</span> except BaseException as e:
<span class="ansi-green-fg">-&gt; 1983</span>     self._handle_dbapi_exception(
<span class="ansi-green-intense-fg ansi-bold">   1984</span>         e, str_statement, effective_parameters, cursor, context
<span class="ansi-green-intense-fg ansi-bold">   1985</span>     )
<span class="ansi-green-intense-fg ansi-bold">   1987</span> return result

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:2326</span>, in <span class="ansi-cyan-fg">Connection._handle_dbapi_exception</span><span class="ansi-blue-fg">(self, e, statement, parameters, cursor, context, is_sub_exec)</span>
<span class="ansi-green-intense-fg ansi-bold">   2324</span> elif should_wrap:
<span class="ansi-green-intense-fg ansi-bold">   2325</span>     assert sqlalchemy_exception is not None
<span class="ansi-green-fg">-&gt; 2326</span>     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
<span class="ansi-green-intense-fg ansi-bold">   2327</span> else:
<span class="ansi-green-intense-fg ansi-bold">   2328</span>     assert exc_info[1] is not None

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/base.py:1964</span>, in <span class="ansi-cyan-fg">Connection._exec_single_context</span><span class="ansi-blue-fg">(self, dialect, context, statement, parameters)</span>
<span class="ansi-green-intense-fg ansi-bold">   1962</span>                 break
<span class="ansi-green-intense-fg ansi-bold">   1963</span>     if not evt_handled:
<span class="ansi-green-fg">-&gt; 1964</span>         self.dialect.do_execute(
<span class="ansi-green-intense-fg ansi-bold">   1965</span>             cursor, str_statement, effective_parameters, context
<span class="ansi-green-intense-fg ansi-bold">   1966</span>         )
<span class="ansi-green-intense-fg ansi-bold">   1968</span> if self._has_events or self.engine._has_events:
<span class="ansi-green-intense-fg ansi-bold">   1969</span>     self.dispatch.after_cursor_execute(
<span class="ansi-green-intense-fg ansi-bold">   1970</span>         self,
<span class="ansi-green-intense-fg ansi-bold">   1971</span>         cursor,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1975</span>         context.executemany,
<span class="ansi-green-intense-fg ansi-bold">   1976</span>     )

File <span class="ansi-green-fg">~/anaconda3/lib/python3.9/site-packages/sqlalchemy/engine/default.py:748</span>, in <span class="ansi-cyan-fg">DefaultDialect.do_execute</span><span class="ansi-blue-fg">(self, cursor, statement, parameters, context)</span>
<span class="ansi-green-intense-fg ansi-bold">    747</span> def do_execute(self, cursor, statement, parameters, context=None):
<span class="ansi-green-fg">--&gt; 748</span>     cursor.execute(statement, parameters)

<span class="ansi-red-fg">OperationalError</span>: (sqlite3.OperationalError) no such column: users._company
[SQL: SELECT users.id AS users_id, users._company AS users__company, users._model AS users__model, users._price AS users__price, users._dob AS users__dob 
FROM users]
(Background on this error at: https://sqlalche.me/e/20/e3q8)</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="EdwinKuttappi/fastpage1"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/fastpage1/week26/tri3/2023/03/18/DatabaseTrial.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/fastpage1/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://edwinkuttappi.github.io/fastpage1/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/fastpage1/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A blog made by Edwin, to test out programming and learn how to make more websites © Edwin 2023</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
